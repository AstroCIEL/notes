# verilog规范

## naming and file

- 一个文件最多包含一个module
- 每个文件都要有一个文件头，包含文件名，作者，日期，目的，参数描述

## coding style

- 对齐；
- 避免用tab，因为不同系统中tab的间距不一样
- 条件表达式应该只有一位
  > dont use `if (data)`, use `if (data > 0)` instead.
- 所有未使用的端口必须有一个驱动，不能悬空
- 装统计必须有一个默认的状态，防止陷入混乱
- if和case语句要写全所有情况，避免产生latch
- 组合逻辑always块用阻塞语句，时序逻辑always块用非阻塞语句
- 内部延时赋值时不可综合的，会被综合工具忽略

## DFT

- 避免使用三态器件
- 避免使用双向网线
- 避免使用锁存器、clock gating
- 避免使用双沿时钟
- 避免使用内部产生的时钟和复位信号
- 避免常量输入和悬浮输出

## IP

- 输出端口信号必须是寄存器
- 避免手动clock gating，应该让eda做
- 必须有复位信号
- 避免使用与工艺有关的特定标准单元
- ip的接口应使用总线
- 硬ip的长宽应接近1：1
- 硬ip应尽量保留上层绕线资源
- 硬ip的管脚应该在不同的方向预留金属层